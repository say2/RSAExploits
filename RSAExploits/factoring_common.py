import signal

def signal_handler(signum, frame):
	raise Exception("Timed out!")

def long_cal(t,n, method):
	signal.signal(signal.SIGALRM, signal_handler)
	signal.alarm(t)   # t seconds
#	if method == "ecm":
#		fn = ecm.factor
#	else:
#		fn = qsieve
	try:
		roots = method(n)
	except Exception, msg:
		print t, "seconds elapsed, skipping..."
	return roots
		
